<!-- Flatpickr CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<!-- Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
{% extends 'myapp/base.html' %}
{% block content %}
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div style="margin-bottom: 15px;">
            <label for="name" style="display: block; margin-bottom: 5px;">ชื่อผู้จัด*:</label>
            <input type="text" id="name" name="name" value="{{ form.name.value|default:'' }}" required style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="email" style="display: block; margin-bottom: 5px;">อีเมล*:</label>
            <input type="email" id="email" name="email" value="{{ form.email.value|default:'' }}" required style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="phone_num" style="display: block; margin-bottom: 5px;">หมายเลขโทรศัพท์:</label>
            <input type="text" id="phone_num" name="phone_num" value="{{ form.phone_num.value|default:'' }}" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="camp_name" style="display: block; margin-bottom: 5px;">ชื่อแคมป์*:</label>
            <input type="text" id="camp_name" name="camp_name" value="{{ form.camp_name.value|default:'' }}" required style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="description_camp" style="display: block; margin-bottom: 5px;">คำอธิบายแคมป์*:</label>
            <textarea id="description_camp" name="description_camp" required style="width: 100%; padding: 8px; box-sizing: border-box; height: 80px; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">{{ form.description_camp.value|default:'' }}</textarea>
        </div>

        <div style="margin-bottom: 15px;">
            <label for="upload_file" style="display: block; margin-bottom: 5px;">ไฟล์ที่อัปโหลด*:</label>
            <input type="file" id="upload_file" name="upload_file" required style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="typeof_camp" style="display: block; margin-bottom: 5px;">ประเภทแคมป์*:</label>
            <select id="typeof_camp" name="typeof_camp" value="{{ form.typeof_camp.value|default:'' }}" required style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
                <option value="" disabled selected>เลือกประเภทค่าย</option>
                <option value="health">ค่ายสายสุขภาพ</option>
                <option value="engineer">ค่ายสายวิศวกรรม</option>
                <option value="language">ค่ายสายภาษา</option>
                <option value="architecture">ค่ายสายสถาปัตย์</option>
                <option value="volunteer">ค่ายอาสา</option>
                <option value="digital_it">ค่ายสายดิจิทัล/IT</option>
                <option value="other">อื่นๆ</option>
            </select>
        </div>

        <div style="margin-bottom: 15px;">
            <label for="start_date" style="display: block; margin-bottom: 5px;">วันเริ่มต้น*:</label>
            <input type="text" id="start_date" name="start_date" value="{{ form.start_date.value|default:'' }}" required placeholder="yyyy-mm-dd" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="end_date" style="display: block; margin-bottom: 5px;">วันสิ้นสุด*:</label>
            <input type="text" id="end_date" name="end_date" value="{{ form.end_date.value|default:'' }}" required placeholder="yyyy-mm-dd" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="final_date" style="display: block; margin-bottom: 5px;">วันสิ้นสุดที่รับสมัคร*:</label>
            <input type="text" id="final_date" name="final_date" value="{{ form.final_date.value|default:'' }}" required placeholder="yyyy-mm-dd" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="num_candi" style="display: block; margin-bottom: 5px;">จำนวนผู้สมัคร*:</label>
            <input type="number" id="num_candi" name="num_candi" value="{{ form.num_candi.value|default:'' }}" required style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>




        <!-- ประเภทการชำระเงิน -->
        <div style="margin-bottom: 15px;">
            <label for="payment_type" style="display: block; margin-bottom: 5px;">ประเภทการชำระเงิน*:</label>
            <div>
                <label for="payment_none" style="display: inline-block; margin-right: 10px;">
                    <input type="radio" id="payment_none" name="payment_type" value="none" {% if form.payment_type.value == 'none' %}checked{% endif %} style="margin-right: 5px;" onclick="togglePriceField()"> ไม่มีค่าใช้จ่าย 
                </label>
                <label for="payment_pre" style="display: inline-block; margin-right: 10px;">
                    <input type="radio" id="payment_pre" name="payment_type" value="pre" {% if form.payment_type.value == 'pre' %}checked{% endif %} style="margin-right: 5px;" onclick="togglePriceField()"> จ่ายตอนสมัคร
                </label>
                <label for="payment_post" style="display: inline-block;">
                    <input type="radio" id="payment_post" name="payment_type" value="post" {% if form.payment_type.value == 'post' %}checked{% endif %} style="margin-right: 5px;" onclick="togglePriceField()"> จ่ายหลังประกาศรายชื่อ
                </label>
            </div>
        </div>

        <div id="price_section" style="margin-bottom: 15px; display: none;">
            <label for="price" style="display: block; margin-bottom: 5px;">ราคา (บาท):</label>
            <input type="number" id="price" name="price" value="{{ form.price.value|default:'' }}" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;" placeholder="กรอกจำนวนเงิน...">
        </div>

        <!-- ประถม -->
        <div style="margin-bottom: 15px;">
            <label for="primary" style="display: inline-block; margin-right: 10px;">ประถมศึกษา:</label>
            <input type="checkbox" id="primary" name="primary" {% if form.primary.value %}checked{% endif %} style="margin-right: 10px;"onclick="togglePrimaryFields()">
        </div>

        <div id="primary_grade_condition" style="margin-bottom: 15px; display: none;">
            <label style="display: inline-block; margin-right: 10px;">ระดับ:</label>
            <label for="primary_all" style="display: inline-block; margin-right: 10px;">
                <input type="radio" id="primary_all" name="primary_grade_condition" value="all" {% if form.primary_grade_condition.value == 'all' %}checked{% endif %} style="margin-right: 5px;"> ทั้งหมด
            </label>
            <label for="primary_from" style="display: inline-block;">
                <input type="radio" id="primary_from" name="primary_grade_condition" value="from" {% if form.primary_grade_condition.value == 'from' %}checked{% endif %} style="margin-right: 5px;"> ตั้งแต่
            </label>
        </div>

        <div id="primary_grade_range" style="margin-bottom: 15px; display: none;">
            <label for="primary_grade_from" style="display: inline-block; margin-right: 10px;">ปีที่:</label>
            <div style="display: inline-block; gap: 10px;">
                <select id="primary_grade_from" name="primary_grade_from" style="padding: 8px; max-width: 100px;">
                    <option value="1" {% if form.primary_grade_from.value == 1 %}selected{% endif %}>1</option>
                    <option value="2" {% if form.primary_grade_from.value == 2 %}selected{% endif %}>2</option>
                    <option value="3" {% if form.primary_grade_from.value == 3 %}selected{% endif %}>3</option>
                    <option value="4" {% if form.primary_grade_from.value == 4 %}selected{% endif %}>4</option>
                    <option value="5" {% if form.primary_grade_from.value == 5 %}selected{% endif %}>5</option>
                    <option value="6" {% if form.primary_grade_from.value == 6 %}selected{% endif %}>6</option>
                </select>
                <span>ถึง</span>
                <select id="primary_grade_to" name="primary_grade_to" style="padding: 8px; max-width: 100px;">
                    <option value="1" {% if form.primary_grade_to.value == 1 %}selected{% endif %}>1</option>
                    <option value="2" {% if form.primary_grade_to.value == 2 %}selected{% endif %}>2</option>
                    <option value="3" {% if form.primary_grade_to.value == 3 %}selected{% endif %}>3</option>
                    <option value="4" {% if form.primary_grade_to.value == 4 %}selected{% endif %}>4</option>
                    <option value="5" {% if form.primary_grade_to.value == 5 %}selected{% endif %}>5</option>
                    <option value="6" {% if form.primary_grade_to.value == 6 %}selected{% endif %}>6</option>
                </select>
            </div>
        </div>

        <!-- มัธยม -->
        <div style="margin-bottom: 15px;">
            <label for="secondary" style="display: inline-block; margin-right: 10px;">มัธยมศึกษา:</label>
            <input type="checkbox" id="secondary" name="secondary" {% if form.secondary.value %}checked{% endif %} style="margin-right: 10px;"onclick="toggleSecondaryFields()">
        </div>

        <div id="secondary_grade_condition" style="margin-bottom: 15px; display: none;">
            <label style="display: inline-block; margin-right: 10px;">ระดับ:</label>
            <label for="secondary_all" style="display: inline-block; margin-right: 10px;">
                <input type="radio" id="secondary_all" name="secondary_grade_condition" value="all" {% if form.secondary_grade_condition.value == 'all' %}checked{% endif %} style="margin-right: 5px;"> ทั้งหมด
            </label>
            <label for="secondary_from" style="display: inline-block;">
                <input type="radio" id="secondary_from" name="secondary_grade_condition" value="from" {% if form.secondary_grade_condition.value == 'from' %}checked{% endif %} style="margin-right: 5px;"> ตั้งแต่
            </label>
        </div>

        <div id="secondary_grade_range" style="margin-bottom: 15px; display: none;">
            <label for="secondary_grade_from" style="display: inline-block; margin-right: 10px;">ปีที่:</label>
            <div style="display: inline-block; gap: 10px;">
                <select id="secondary_grade_from" name="secondary_grade_from" style="padding: 8px; max-width: 100px;">
                    <option value="1" {% if form.secondary_grade_from.value == 1 %}selected{% endif %}>1</option>
                    <option value="2" {% if form.secondary_grade_from.value == 2 %}selected{% endif %}>2</option>
                    <option value="3" {% if form.secondary_grade_from.value == 3 %}selected{% endif %}>3</option>
                    <option value="4" {% if form.secondary_grade_from.value == 4 %}selected{% endif %}>4</option>
                    <option value="5" {% if form.secondary_grade_from.value == 5 %}selected{% endif %}>5</option>
                    <option value="6" {% if form.secondary_grade_from.value == 6 %}selected{% endif %}>6</option>
                </select>
                <span>ถึง</span>
                <select id="secondary_grade_to" name="secondary_grade_to" style="padding: 8px; max-width: 100px;">
                    <option value="1" {% if form.secondary_grade_to.value == 1 %}selected{% endif %}>1</option>
                    <option value="2" {% if form.secondary_grade_to.value == 2 %}selected{% endif %}>2</option>
                    <option value="3" {% if form.secondary_grade_to.value == 3 %}selected{% endif %}>3</option>
                    <option value="4" {% if form.secondary_grade_to.value == 4 %}selected{% endif %}>4</option>
                    <option value="5" {% if form.secondary_grade_to.value == 5 %}selected{% endif %}>5</option>
                    <option value="6" {% if form.secondary_grade_to.value == 6 %}selected{% endif %}>6</option>
                </select>
            </div>
        </div>

        <!-- ปวช, ปวส, เด็กซิ่ว, ปริญญา -->
        <div style="margin-bottom: 15px;">
            <label for="vocational_minor" style="display: inline-block; margin-right: 10px;">ปวช:</label>
            <input type="checkbox" id="vocational_minor" name="vocational_minor" {% if form.vocational_minor.value %}checked{% endif %} style="display: inline-block; margin-right: 10px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="vocational_major" style="display: inline-block; margin-right: 10px;">ปวส:</label>
            <input type="checkbox" id="vocational_major" name="vocational_major" {% if form.vocational_major.value %}checked{% endif %} style="display: inline-block; margin-right: 10px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="drop" style="display: inline-block; margin-right: 10px;">เด็กซิ่ว:</label>
            <input type="checkbox" id="drop" name="drop" {% if form.drop.value %}checked{% endif %} style="display: inline-block; margin-right: 10px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="degree" style="display: inline-block; margin-right: 10px;">ปริญญา:</label>
            <input type="checkbox" id="degree" name="degree" {% if form.degree.value %}checked{% endif %} style="margin-right: 10px;"onclick="toggleDegreeFields()">
        </div>

        <div id="degree_grade_condition" style="margin-bottom: 15px; display: none;">
            <label for="degree_all" style="display: inline-block; margin-right: 10px;">
                <input type="radio" id="degree_all" name="degree_grade_condition" value="all" {% if form.degree_grade_condition.value == 'all' %}checked{% endif %} style="margin-right: 5px;"> ทั้งหมด
            </label>
            <label for="degree_from" style="display: inline-block;">
                <input type="radio" id="degree_from" name="degree_grade_condition" value="from" {% if form.degree_grade_condition.value == 'from' %}checked{% endif %} style="margin-right: 5px;"> ตั้งแต่
            </label>
        </div>

        <div id="degree_grade_range" style="margin-bottom: 15px; display: none;">
            <label for="degree_from" style="display: inline-block; margin-right: 10px;">ระดับ:</label>
            <select id="degree_from" name="degree_from" style="padding: 8px; max-width: 150px;">
                <option value="bachelor" {% if form.degree_from.value == 'bachelor' %}selected{% endif %}>ปริญญาตรี</option>
                <option value="master" {% if form.degree_from.value == 'master' %}selected{% endif %}>ปริญญาโท</option>
                <option value="doctorate" {% if form.degree_from.value == 'doctorate' %}selected{% endif %}>ปริญญาเอก</option>
            </select>
            <span>ถึง</span>
            <select id="degree_to" name="degree_to" style="padding: 8px; max-width: 150px;">
                <option value="bachelor" {% if form.degree_to.value == 'bachelor' %}selected{% endif %}>ปริญญาตรี</option>
                <option value="master" {% if form.degree_to.value == 'master' %}selected{% endif %}>ปริญญาโท</option>
                <option value="doctorate" {% if form.degree_to.value == 'doctorate' %}selected{% endif %}>ปริญญาเอก</option>
            </select>
        </div>

        <div style="margin-bottom: 15px;">
            <label for="other" style="display: inline-block; margin-right: 10px;">บุคคลทั่วไป:</label>
            <input type="checkbox" id="other" name="other" {% if form.other.value %}checked{% endif %} style="display: inline-block; margin-right: 10px;">
        </div>




        <!-- Age Condition -->
        <div style="margin-bottom: 15px; display: inline-flex; align-items: center;">
            <label for="age_condition" style="margin-right: 10px;">เงื่อนไขอายุ*:</label>
            <select id="age_condition" name="age_condition" style="padding: 8px; max-width: 150px; border: 1px solid #ccc;" onchange="toggleAgeFields()">
                <option value="no_limit" selected disabled style="color: #aaa;">กำหนดอายุ</option>
                <option value="from" {% if form.age_condition.value == 'from' %}selected{% endif %}>ตั้งแต่</option>
                <option value="no_limit" {% if form.age_condition.value == 'no_limit' %}selected{% endif %}>ไม่กำหนด</option>
            </select>
        </div>

        <div id="age_range" style="margin-bottom: 15px; display: inline-flex; align-items: center; margin-left: 10px;">
            <label for="min_age" style="margin-right: 10px;">อายุขั้นต่ำ:</label>
            <input type="number" id="min_age" name="min_age" value="{{ form.min_age.value|default:'' }}" style="padding: 8px; max-width: 80px; border: 1px solid #ccc;" min="0" placeholder="กรอกอายุ">
            <span style="margin-left: 5px;">ปี</span>
        </div>

        <div style="margin-bottom: 5px;"></div>

        <!-- Activity Mode -->
        <div style="margin-bottom: 15px; display: inline-flex; align-items: center;">
            <label for="activity_mode" style="margin-right: 10px;">ประเภทกิจกรรม*:</label>
            <select id="activity_mode" name="activity_mode" style="padding: 8px; max-width: 150px; border : 1px solid #ccc;" onchange="togglePlaceField()">
                <option value="online" {% if form.activity_mode.value == 'online' %}selected{% endif %}>กิจกรรมออนไลน์</option>
                <option value="onsite" {% if form.activity_mode.value == 'onsite' %}selected{% endif %}>กิจกรรมออนไซต์</option>
            </select>
        </div>

        <div id="place_section" style="margin-bottom: 15px; display: none; display: inline-flex; align-items: center; margin-left: 10px;">
            <label for="place" style="margin-right: 10px;">สถานที่จัดกิจกรรมออนไซต์:</label>
            <input type="text" id="place" name="place" value="{{ form.place.value|default:'' }}" style="padding: 8px; max-width: 150px; border: 1px solid #ccc;">
        </div>

        <!-- Social Media Links -->
        <div style="margin-bottom: 15px;">
            <label for="ig" style="display: block; margin-bottom: 5px;">Instagram:</label>
            <input type="url" id="ig" name="ig" value="{{ form.ig.value|default:'' }}" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="facebook" style="display: block; margin-bottom: 5px;">Facebook:</label>
            <input type="url" id="facebook" name="facebook" value="{{ form.facebook.value|default:'' }}" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="line" style="display: block; margin-bottom: 5px;">Line ID:</label>
            <input type="text" id="line" name="line" value="{{ form.line.value|default:'' }}" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="website" style="display: block; margin-bottom: 5px;">เว็บไซต์:</label>
            <input type="url" id="website" name="website" value="{{ form.website.value|default:'' }}" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="linkcamp" style="display: block; margin-bottom: 5px;">ลิงก์สมัครแคมป์*:</label>
            <input type="url" id="linkcamp" name="linkcamp" value="{{ form.linkcamp.value|default:'' }}" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="organize_camp" style="display: block; margin-bottom: 5px;">ผู้จัดแคมป์:</label>
            <input type="text" id="organize_camp" name="organize_camp" value="{{ form.organize_camp.value|default:'' }}" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="has_organized" style="display: inline-block; margin-right: 10px;">เคยจัดแคมป์หรือไม่:</label>
            <input type="checkbox" id="has_organized" name="has_organized" {% if form.has_organized.value %}checked{% endif %} style="display: inline-block; margin-right: 10px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="detail_activity" style="display: block; margin-bottom: 5px;">รายละเอียดกิจกรรม*:</label>
            <textarea id="detail_activity" name="detail_activity" rows="4" required style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
                {{ form.detail_activity.value|default:'' }}
            </textarea>
        </div>

        <div style="margin-bottom: 15px;">
            <label for="poster" style="display: block; margin-bottom: 5px;">โปสเตอร์:</label>
            <input type="file" id="poster" name="poster" style="width: 100%; padding: 8px; box-sizing: border-box; max-width: 500px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <button type="submit" style="background-color: #4CAF50; color: white; padding: 10px 20px; border: none; cursor: pointer;">บันทึกข้อมูล</button>

    </form>


    <script>
        flatpickr("#start_date", {
            dateFormat: "Y-m-d",  // เปลี่ยนรูปแบบวันที่ให้ตรงกับที่ Django คาดหวัง
            placeholder: "yyyy-mm-dd",
            enableTime: false
        });

        flatpickr("#end_date", {
            dateFormat: "Y-m-d",  // เปลี่ยนรูปแบบวันที่ให้ตรงกับที่ Django คาดหวัง
            placeholder: "yyyy-mm-dd",
            enableTime: false
        });

        flatpickr("#final_date", {
            dateFormat: "Y-m-d",  // เปลี่ยนรูปแบบวันที่ให้ตรงกับที่ Django คาดหวัง
            placeholder: "yyyy-mm-dd",
            enableTime: false
        });
    </script>

    <script>
        function togglePriceField() {
            // Get the value of the selected payment type
            const paymentType = document.querySelector('input[name="payment_type"]:checked').value;

            // Get the price section div
            const priceSection = document.getElementById('price_section');

            // Show price input field if the payment type is 'pre' or 'post'
            if (paymentType === 'pre' || paymentType === 'post') {
                priceSection.style.display = 'block'; // Show the price field
            } else {
                priceSection.style.display = 'none'; // Hide the price field if 'none' is selected
            }
        }
    </script>

    <script>
        // Toggle Primary Fields when checkbox is checked/unchecked
        function togglePrimaryFields() {
            const primaryChecked = document.getElementById('primary').checked;
            const gradeConditionSection = document.getElementById('primary_grade_condition');
            const gradeRangeSection = document.getElementById('primary_grade_range');

            // Show/Hide the grade condition and grade range sections based on the checkbox state
            if (primaryChecked) {
                gradeConditionSection.style.display = 'block';
            } else {
                gradeConditionSection.style.display = 'none';
                gradeRangeSection.style.display = 'none'; // Hide the grade range section when unchecked
            }
        }

        // Toggle the grade range section when "ตั้งแต่" is selected
        document.getElementById('primary_from').addEventListener('click', function() {
            document.getElementById('primary_grade_range').style.display = 'block';
        });

        // Hide the grade range section when "ทั้งหมด" is selected
        document.getElementById('primary_all').addEventListener('click', function() {
            document.getElementById('primary_grade_range').style.display = 'none';
        });
    </script>

    <script>
        // Toggle Secondary Fields when checkbox is checked/unchecked
        function toggleSecondaryFields() {
            const secondaryChecked = document.getElementById('secondary').checked;
            const gradeConditionSection = document.getElementById('secondary_grade_condition');
            const gradeRangeSection = document.getElementById('secondary_grade_range');

            // Show/Hide the grade condition and grade range sections based on the checkbox state
            if (secondaryChecked) {
                gradeConditionSection.style.display = 'block';
            } else {
                gradeConditionSection.style.display = 'none';
                gradeRangeSection.style.display = 'none'; // Hide the grade range section when unchecked
            }
        }

        // Toggle the grade range section when "ตั้งแต่" is selected
        document.getElementById('secondary_from').addEventListener('click', function() {
            document.getElementById('secondary_grade_range').style.display = 'block';
        });

        // Hide the grade range section when "ทั้งหมด" is selected
        document.getElementById('secondary_all').addEventListener('click', function() {
            document.getElementById('secondary_grade_range').style.display = 'none';
        });
    </script>

    <script>
        // Toggle Degree Fields when checkbox is checked/unchecked
        function toggleDegreeFields() {
            const degreeChecked = document.getElementById('degree').checked;
            const gradeConditionSection = document.getElementById('degree_grade_condition');
            const gradeRangeSection = document.getElementById('degree_grade_range');

            // Show/Hide the degree grade condition and degree grade range sections based on the checkbox state
            if (degreeChecked) {
                gradeConditionSection.style.display = 'block';
            } else {
                gradeConditionSection.style.display = 'none';
                gradeRangeSection.style.display = 'none'; // Hide the grade range section when unchecked
            }
        }

        // Toggle the grade range section when "ตั้งแต่" is selected for degree
        document.getElementById('degree_from').addEventListener('click', function() {
            document.getElementById('degree_grade_range').style.display = 'block';
        });

        // Hide the grade range section when "ทั้งหมด" is selected for degree
        document.getElementById('degree_all').addEventListener('click', function() {
            document.getElementById('degree_grade_range').style.display = 'none';
        });
    </script>

    <script>
        // Toggle Age Range input when "ตั้งแต่" is selected
        function toggleAgeFields() {
            const ageCondition = document.getElementById('age_condition').value;
            const ageRangeSection = document.getElementById('age_range');

            // If "ตั้งแต่" is selected, show the age range input
            if (ageCondition === 'from') {
                ageRangeSection.style.display = 'inline-flex';
            } else {
                ageRangeSection.style.display = 'none';
            }
        }

        // Toggle Place input when "กิจกรรมออนไซต์" is selected
        function togglePlaceSection() {
            const activityMode = document.getElementById('activity_mode').value;
            const placeSection = document.getElementById('place_section');

            // If "กิจกรรมออนไซต์" is selected, show the place input
            if (activityMode === 'onsite') {
                placeSection.style.display = 'inline-flex';
            } else {
                placeSection.style.display = 'none';
            }
        }

        // Initialize the fields when the page loads
        window.onload = function() {
            // Initialize Age Range
            const ageCondition = document.getElementById('age_condition').value;
            const ageRangeSection = document.getElementById('age_range');
            if (ageCondition === 'from') {
                ageRangeSection.style.display = 'inline-flex';
            } else {
                ageRangeSection.style.display = 'none';
            }

            // Initialize Place Section
            const activityMode = document.getElementById('activity_mode').value;
            const placeSection = document.getElementById('place_section');
            if (activityMode === 'onsite') {
                placeSection.style.display = 'inline-flex';
            } else {
                placeSection.style.display = 'none';
            }

            // Add event listeners to dropdowns to handle changes
            document.getElementById('activity_mode').addEventListener('change', togglePlaceSection);
            document.getElementById('age_condition').addEventListener('change', toggleAgeFields);
        }
    </script>

{% endblock %}
