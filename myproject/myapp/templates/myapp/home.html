{% extends 'myapp/base.html' %}
{% load static %}

{% block content %}


{% if user.is_authenticated and slider_camps_interest %}
<div class="max-w-3xl mx-auto mt-10 p-4 bg-white rounded shadow">
  <h1 class="text-2xl font-bold mb-6 text-center text-[#003049]">
  7 ‡∏Ñ‡πà‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
  </h1>
  <div class="relative" style="min-height:420px;">
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πâ‡∏≤‡∏¢ -->
    <button id="prevBtn4" class="absolute left-0 top-1/2 -translate-y-1/2 bg-[#003049] text-white rounded-full w-10 h-10 flex items-center justify-center z-10 shadow hover:bg-[#002133] disabled:opacity-50" aria-label="Previous">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
    </button>
    <!-- Cards -->
    <div id="camp-list4">
      {% for camp in slider_camps_interest %}
        <a href="{% url 'myapp:camp_detail' camp.id %}"
          class="block border border-gray-300 hover:bg-gray-100 transition rounded mb-4 camp-item {% if not forloop.first %}hidden{% endif %}"
          data-final-date="{{ camp.final_date|date:'Y-m-d' }}">
          <div class="md:flex p-4 gap-4">
            <!-- ‡∏£‡∏π‡∏õ -->
            <div class="flex-shrink-0">
              {% if camp.upload_file %}
                <img src="{{ camp.upload_file.url }}" alt="{{ camp.camp_name }}"
                     class="w-full max-w-[300px] md:max-w-[350px] max-h-[400px] object-contain mx-auto" />
              {% else %}
                <div class="w-[200px] h-[150px] bg-gray-200 flex items-center justify-center text-sm text-gray-500">
                  ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ
                </div>
              {% endif %}
            </div>
            <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
            <div class="flex-1">
              <div class="camp-status mt-4 md:mt-2 flex justify-center" data-final-date="{{ camp.final_date|date:'Y-m-d' }}">
                <span class="color-indicator rounded-md px-4 py-2 flex items-center justify-center text-base font-semibold text-white transition-colors duration-300 w-fit">
                  <span class="status-value">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
                </span>
              </div>
              <div class="h-1"></div>
              <h2 class="text-lg font-bold">{{ camp.camp_name }}</h2>
              <p class="text-sm text-gray-700 mb-1">{{ camp.description_camp|truncatewords:20 }}</p>
              <p class="text-sm text-gray-600">‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î: {{ camp.final_date|date:"j F Y" }}</p>
              <p class="text-sm">üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤: {{ camp.price|default:"‡∏ü‡∏£‡∏µ" }}</p>
              <p class="text-sm">üìç ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: {{ camp.get_activity_mode_display }}</p>
            </div>
          </div>
        </a>
      {% endfor %}
    </div>
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ç‡∏ß‡∏≤ -->
    <button id="nextBtn4" class="absolute right-0 top-1/2 -translate-y-1/2 bg-[#003049] text-white rounded-full w-10 h-10 flex items-center justify-center z-10 shadow hover:bg-[#002133] disabled:opacity-50" aria-label="Next">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
      </svg>
    </button>
  </div>
</div>
{% endif %}




{% if user.is_authenticated and slider_camps_personal %}
  <div class="max-w-3xl mx-auto mt-10 p-4 bg-white rounded shadow">
    <h1 class="text-2xl font-bold mb-6 text-center text-[#003049]">
      7 ‡∏Ñ‡πà‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏î‡πâ
    </h1>
    <div class="relative" style="min-height:420px;">
      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πâ‡∏≤‡∏¢ -->
      <button id="prevBtn3" class="absolute left-0 top-1/2 -translate-y-1/2 bg-[#003049] text-white rounded-full w-10 h-10 flex items-center justify-center z-10 shadow hover:bg-[#002133] disabled:opacity-50" aria-label="Previous">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
        </svg>
      </button>
      <!-- Cards -->
      <div id="camp-list3">
        {% for camp in slider_camps_personal %}
          <a href="{% url 'myapp:camp_detail' camp.id %}"
            class="block border border-gray-300 hover:bg-gray-100 transition rounded mb-4 camp-item {% if not forloop.first %}hidden{% endif %}"
            data-final-date="{{ camp.final_date|date:'Y-m-d' }}">
            <div class="md:flex p-4 gap-4">
              <!-- ‡∏£‡∏π‡∏õ -->
              <div class="flex-shrink-0">
                {% if camp.upload_file %}
                  <img src="{{ camp.upload_file.url }}" alt="{{ camp.camp_name }}"
                      class="w-full max-w-[300px] md:max-w-[350px] max-h-[400px] object-contain mx-auto" />
                {% else %}
                  <div class="w-[200px] h-[150px] bg-gray-200 flex items-center justify-center text-sm text-gray-500">
                    ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ
                  </div>
                {% endif %}
              </div>
              <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
              <div class="flex-1">
                <div class="camp-status mt-4 md:mt-2 flex justify-center" data-final-date="{{ camp.final_date|date:'Y-m-d' }}">
                  <span class="color-indicator rounded-md px-4 py-2 flex items-center justify-center text-base font-semibold text-white transition-colors duration-300 w-fit">
                    <span class="status-value">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
                  </span>
                </div>
                <div class="h-1"></div>
                <h2 class="text-lg font-bold">{{ camp.camp_name }}</h2>
                <p class="text-sm text-gray-700 mb-1">{{ camp.description_camp|truncatewords:20 }}</p>
                <p class="text-sm text-gray-600">‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î: {{ camp.final_date|date:"j F Y" }}</p>
                <p class="text-sm">üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤: {{ camp.price|default:"‡∏ü‡∏£‡∏µ" }}</p>
                <p class="text-sm">üìç ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: {{ camp.get_activity_mode_display }}</p>
              </div>
            </div>
          </a>
        {% endfor %}
      </div>
      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ç‡∏ß‡∏≤ -->
      <button id="nextBtn3" class="absolute right-0 top-1/2 -translate-y-1/2 bg-[#003049] text-white rounded-full w-10 h-10 flex items-center justify-center z-10 shadow hover:bg-[#002133] disabled:opacity-50" aria-label="Next">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
        </svg>
      </button>
    </div>
  </div>
{% endif %}




<!-- Slider 2 (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡πà‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î) -->
<div class="max-w-3xl mx-auto mt-10 p-4 bg-white rounded shadow">
  <h1 class="text-2xl font-bold mb-6 text-center">‡∏Ñ‡πà‡∏≤‡∏¢‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h1>
  <div class="relative" style="min-height:420px;">
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πâ‡∏≤‡∏¢ -->
    <button id="prevBtn2" type="button"
      class="absolute left-0 top-1/2 -translate-y-1/2 bg-[#003049] text-white rounded-full w-10 h-10 flex items-center justify-center z-10 shadow hover:bg-[#002133] disabled:opacity-50"
      aria-label="Previous">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
    </button>
    <!-- Cards -->
    <div id="camp-list2">
      {% for camp in slider_camps_by_id %}
        <a href="{% url 'myapp:camp_detail' camp.id %}"
          class="block border border-gray-300 hover:bg-gray-100 transition rounded mb-4 camp-item {% if not forloop.first %}hidden{% endif %}"
          data-final-date="{{ camp.final_date|date:'Y-m-d' }}">
          <div class="md:flex p-4 gap-4">
            <!-- ‡∏£‡∏π‡∏õ -->
            <div class="flex-shrink-0">
              {% if camp.upload_file %}
                <img src="{{ camp.upload_file.url }}" alt="{{ camp.camp_name }}"
                  class="w-full max-w-[300px] md:max-w-[350px] max-h-[400px] object-contain mx-auto" />
              {% else %}
                <div class="w-[200px] h-[150px] bg-gray-200 flex items-center justify-center text-sm text-gray-500">
                  ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ
                </div>
              {% endif %}
            </div>
            <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
            <div class="flex-1">
              <div class="camp-status mt-4 md:mt-2 flex justify-center" data-final-date="{{ camp.final_date|date:'Y-m-d' }}">
                <span class="color-indicator rounded-md px-4 py-2 flex items-center justify-center text-base font-semibold text-white transition-colors duration-300 w-fit">
                  <span class="status-value">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
                </span>
              </div>
              <div class="h-1"></div>
              <h2 class="text-lg font-bold">{{ camp.camp_name }}</h2>
              <p class="text-sm text-gray-700 mb-1">{{ camp.description_camp|truncatewords:20 }}</p>
              <p class="text-sm text-gray-600">‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î: {{ camp.final_date|date:"j F Y" }}</p>
              <p class="text-sm">üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤: {{ camp.price|default:"‡∏ü‡∏£‡∏µ" }}</p>
              <p class="text-sm">üìç ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: {{ camp.get_activity_mode_display }}</p>
            </div>
          </div>
        </a>
      {% endfor %}
    </div>
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ç‡∏ß‡∏≤ -->
    <button id="nextBtn2" type="button"
      class="absolute right-0 top-1/2 -translate-y-1/2 bg-[#003049] text-white rounded-full w-10 h-10 flex items-center justify-center z-10 shadow hover:bg-[#002133] disabled:opacity-50"
      aria-label="Next">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
      </svg>
    </button>
  </div>
</div>

<!-- Slider 1 (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡∏ï‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î) -->
<div class="max-w-3xl mx-auto mt-10 p-4 bg-white rounded shadow">
  <h1 class="text-2xl font-bold mb-6 text-center">‡∏Ñ‡πà‡∏≤‡∏¢‡πÉ‡∏Å‡∏•‡πâ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h1>
  <div class="relative" style="min-height:420px;">
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πâ‡∏≤‡∏¢ -->
    <button id="prevBtn1" type="button"
      class="absolute left-0 top-1/2 -translate-y-1/2 bg-[#003049] text-white rounded-full w-10 h-10 flex items-center justify-center z-10 shadow hover:bg-[#002133] disabled:opacity-50"
      aria-label="Previous">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
    </button>
    <!-- Cards -->
    <div id="camp-list1">
      {% for camp in slider_camps %}
        <a href="{% url 'myapp:camp_detail' camp.id %}"
          class="block border border-gray-300 hover:bg-gray-100 transition rounded mb-4 camp-item {% if not forloop.first %}hidden{% endif %}"
          data-final-date="{{ camp.final_date|date:'Y-m-d' }}">
          <div class="md:flex p-4 gap-4">
            <!-- ‡∏£‡∏π‡∏õ -->
            <div class="flex-shrink-0">
              {% if camp.upload_file %}
                <img src="{{ camp.upload_file.url }}" alt="{{ camp.camp_name }}"
                  class="w-full max-w-[300px] md:max-w-[350px] max-h-[400px] object-contain mx-auto" />
              {% else %}
                <div class="w-[200px] h-[150px] bg-gray-200 flex items-center justify-center text-sm text-gray-500">
                  ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ
                </div>
              {% endif %}
            </div>
            <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
            <div class="flex-1">
              <div class="camp-status mt-4 md:mt-2 flex justify-center" data-final-date="{{ camp.final_date|date:'Y-m-d' }}">
                <span class="color-indicator rounded-md px-4 py-2 flex items-center justify-center text-base font-semibold text-white transition-colors duration-300 w-fit">
                  <span class="status-value">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
                </span>
              </div>
              <div class="h-1"></div>
              <h2 class="text-lg font-bold">{{ camp.camp_name }}</h2>
              <p class="text-sm text-gray-700 mb-1">{{ camp.description_camp|truncatewords:20 }}</p>
              <p class="text-sm text-gray-600">‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î: {{ camp.final_date|date:"j F Y" }}</p>
              <p class="text-sm">üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤: {{ camp.price|default:"‡∏ü‡∏£‡∏µ" }}</p>
              <p class="text-sm">üìç ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: {{ camp.get_activity_mode_display }}</p>
            </div>
          </div>
        </a>
      {% endfor %}
    </div>
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ç‡∏ß‡∏≤ -->
    <button id="nextBtn1" type="button"
      class="absolute right-0 top-1/2 -translate-y-1/2 bg-[#003049] text-white rounded-full w-10 h-10 flex items-center justify-center z-10 shadow hover:bg-[#002133] disabled:opacity-50"
      aria-label="Next">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
      </svg>
    </button>
  </div>
</div>

<!-- ‡πÉ‡∏ä‡πâ Script ‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏•‡∏≤‡∏¢ slider ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ -->
<script>
function setupCarousel(listId, prevBtnId, nextBtnId) {
  const camps = Array.from(document.querySelectorAll(`#${listId} .camp-item`));
  let idx = 0;
  function updateCarousel() {
    camps.forEach((el, i) => el.classList.toggle('hidden', i !== idx));
    document.getElementById(prevBtnId).disabled = idx === 0;
    document.getElementById(nextBtnId).disabled = idx === camps.length - 1;
  }
  document.getElementById(prevBtnId).addEventListener('click', () => {
    if (idx > 0) { idx--; updateCarousel(); }
  });
  document.getElementById(nextBtnId).addEventListener('click', () => {
    if (idx < camps.length - 1) { idx++; updateCarousel(); }
  });
  updateCarousel();
}
document.addEventListener("DOMContentLoaded", function () {
  setupCarousel('camp-list1', 'prevBtn1', 'nextBtn1');
  setupCarousel('camp-list2', 'prevBtn2', 'nextBtn2');
  setupCarousel('camp-list3', 'prevBtn3', 'nextBtn3');
  setupCarousel('camp-list4', 'prevBtn4', 'nextBtn4');
});
</script>

<!-- ‡πÉ‡∏™‡πà script ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏ä‡πà‡∏ô list_camp.js ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥ -->
<script src="{% static 'js/list_camp.js' %}"></script>
{% endblock %}
